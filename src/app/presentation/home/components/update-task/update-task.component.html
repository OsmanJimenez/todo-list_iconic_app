<ion-item>
  <ion-input
    [label]="config.TEXTS.TASK_TITLE"
    [placeholder]="config.TEXTS.TASK_TITLE_PLACEHOLDER"
    [(ngModel)]="editableTask.title"
    [disabled]="!allowTaskUpdate"
  ></ion-input>
</ion-item>

<ion-item>
  <ion-input
    [label]="config.TEXTS.CATEGORY_ID"
    [placeholder]="config.TEXTS.CATEGORY_ID_PLACEHOLDER"
    [(ngModel)]="editableTask.categoryId"
    [disabled]="!allowTaskUpdate"
  ></ion-input>
</ion-item>

<ion-item>
  <ion-label>{{ config.TEXTS.DATE_LABEL }}</ion-label>
  <ion-datetime-button
    datetime="datePicker"
    [ngClass]="{ 'empty-date': !editableTask.date }"
    [disabled]="!allowTaskUpdate"
  ></ion-datetime-button>
  <ion-modal [keepContentsMounted]="true">
    <ng-template>
      <ion-datetime
        id="datePicker"
        presentation="date"
        [(ngModel)]="editableTask.date"
        [disabled]="!allowTaskUpdate"
        placeholder="Seleccionar fecha"
      ></ion-datetime>
    </ng-template>
  </ion-modal>

  <ion-button *ngIf="editableTask.date" fill="clear" (click)="clearDate()" [disabled]="!allowTaskUpdate">
    <ion-icon name="close-circle"></ion-icon>
  </ion-button>
</ion-item>

<ion-item>
  <ion-label>{{ config.TEXTS.SELECTED_DATE_LABEL }}</ion-label>
  <span *ngIf="editableTask.date">{{ editableTask.date | date: 'mediumDate' }}</span>
  <span *ngIf="!editableTask.date">{{ config.TEXTS.NO_DATE_SELECTED }}</span>
</ion-item>

<!-- Botón de guardar deshabilitado si el título está vacío -->
<ion-button expand="block" color="success" (click)="saveTask()" [disabled]="!allowTaskUpdate">
  {{ config.BUTTONS.SAVE_TASK.TEXT }}
</ion-button>
