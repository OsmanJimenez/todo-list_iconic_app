"use strict";(self.webpackChunkapp=self.webpackChunkapp||[]).push([[3087],{3087:(z,k,c)=>{c.r(k),c.d(k,{HomePageModule:()=>B});var d=c(177),i=c(4742),g=c(4341),f=c(9228);const C=Object.freeze({TEXTS:{WELCOME:"Bienvenido",TASK_TITLE_PLACEHOLDER:"T\xedtulo de la Tarea"},BUTTONS:{ADD_TASK:{TEXT:"Nueva Tarea"}}}),h=Object.freeze({TEXTS:{NO_CATEGORY_TEXT:"Sin Categor\xeda"},BUTTONS:{DELETE_TASK:{TEXT:"Eliminar",SLOT:"end",COLOR:"danger"}},CHECKBOX:{COMPLETION:{SLOT:"start"}},STATUSES:{PENDING:"PENDING",IN_PROGRESS:"IN_PROGRESS",COMPLETED:"COMPLETED",CANCELED:"CANCELED"}});var e=c(3953),y=c(1798),E=c(2471),p=c(9761);let u=(()=>{var n;class s{constructor(t){this.taskRepository=t}addTask(t,o,l=p.e.Pending,r){const m=new y.Y(this.generateId(),t,l,o,new Date,r);return this.taskRepository.save(m),m}deleteTask(t){this.taskRepository.delete(t)}toggleTaskCompletion(t){t.setStatus(t.status===p.e.Completed?p.e.Pending:p.e.Completed),this.taskRepository.save(t)}getTasks(t,o){const r=t*o;return this.taskRepository.findAll().sort((X,V)=>V.createdAt.getTime()-X.createdAt.getTime()).slice(r,r+o)}generateId(){return Math.random().toString(36).substr(2,9)}}return(n=s).\u0275fac=function(t){return new(t||n)(e.KVO(E.n))},n.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),s})();const O=n=>({completed:n});function I(n,s){if(1&n){const a=e.RV6();e.j41(0,"ion-button",13),e.bIt("click",function(){e.eBV(a);const o=e.XpG().$implicit,l=e.XpG();return e.Njj(l.deleteTask(o.id))}),e.nrm(1,"ion-icon",14),e.k0s()}}function b(n,s){if(1&n){const a=e.RV6();e.j41(0,"ion-col",1)(1,"ion-card",2)(2,"ion-card-content")(3,"div",3)(4,"div",4)(5,"h2",5),e.EFF(6),e.k0s(),e.j41(7,"p",6),e.EFF(8),e.k0s()(),e.j41(9,"div",7)(10,"ion-checkbox",8),e.bIt("ionChange",function(){const o=e.eBV(a).$implicit,l=e.XpG();return e.Njj(l.toggleCompletion(o))}),e.k0s()()(),e.nrm(11,"div",9),e.j41(12,"div",10)(13,"p",11),e.EFF(14),e.nI1(15,"date"),e.k0s(),e.DNE(16,I,2,0,"ion-button",12),e.k0s()()()()}if(2&n){const a=s.$implicit,t=e.XpG();e.R7$(5),e.Y8G("ngClass",e.eq3(8,O,a.status===t.config.STATUSES.COMPLETED)),e.R7$(),e.SpI(" ",a.title," "),e.R7$(2),e.JRh(a.categoryId||t.config.TEXTS.NO_CATEGORY_TEXT),e.R7$(2),e.Y8G("checked",a.status===t.config.STATUSES.COMPLETED),e.R7$(4),e.JRh(e.bMT(15,6,a.date)),e.R7$(2),e.Y8G("ngIf",t.allowTaskDeletion)}}let _=(()=>{var n;class s{constructor(t){this.taskService=t,this.tasks=[],this.filteredTasks=[],this.config=h,this.filterCategoryId="",this.allowTaskDeletion=null,this.page=0,this.pageSize=20,this.totalTasks=0}ngOnInit(){this.loadTasks()}ngOnChanges(){this.applyFilter()}loadTasks(){this.page=0,this.tasks=this.taskService.getTasks(0,this.pageSize),this.totalTasks=this.tasks.length,this.applyFilter()}loadMoreTasks(t){this.page++;const o=this.taskService.getTasks(this.page,this.pageSize);this.tasks=[...this.tasks,...o],this.applyFilter(),t.target.complete(),this.filteredTasks.length>=this.totalTasks&&(t.target.disabled=!0)}applyFilter(){this.filteredTasks=""===this.filterCategoryId.trim()?this.tasks.slice(0,(this.page+1)*this.pageSize):this.tasks.filter(t=>t.categoryId===this.filterCategoryId).slice(0,(this.page+1)*this.pageSize)}toggleCompletion(t){this.taskService.toggleTaskCompletion(t),this.loadTasks()}deleteTask(t){this.allowTaskDeletion&&(this.taskService.deleteTask(t),this.loadTasks())}}return(n=s).\u0275fac=function(t){return new(t||n)(e.rXU(u))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-tasks"]],inputs:{filterCategoryId:"filterCategoryId",allowTaskDeletion:"allowTaskDeletion"},features:[e.OA$],decls:3,vars:1,consts:[["size","12","size-md","6","size-lg","4",4,"ngFor","ngForOf"],["size","12","size-md","6","size-lg","4"],[1,"task-card"],[1,"task-content"],[1,"task-details"],[1,"task-title",3,"ngClass"],[1,"task-category"],[1,"task-actions"],[1,"task-checkbox",3,"ionChange","checked"],[1,"task-separator"],[1,"task-footer"],[1,"task-date"],["color","danger","fill","clear","class","delete-button",3,"click",4,"ngIf"],["color","danger","fill","clear",1,"delete-button",3,"click"],["name","trash-outline"]],template:function(t,o){1&t&&(e.j41(0,"ion-grid")(1,"ion-row"),e.DNE(2,b,17,10,"ion-col",0),e.k0s()()),2&t&&(e.R7$(2),e.Y8G("ngForOf",o.tasks))},dependencies:[d.YU,d.Sq,d.bT,i.Jm,i.b_,i.I9,i.eY,i.hU,i.lO,i.iq,i.ln,i.hB,d.vh],styles:[".task-card[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;padding:10px;border-radius:10px;margin-bottom:20px}.task-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start}.task-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:4px}.task-title[_ngcontent-%COMP%]{font-size:1.4rem!important;font-weight:700}.task-title.completed[_ngcontent-%COMP%]{text-decoration:line-through;color:#b0b0b0}.task-category[_ngcontent-%COMP%], .task-date[_ngcontent-%COMP%]{font-size:14px;color:#b0b0b0}.task-actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;align-items:center}.task-checkbox[_ngcontent-%COMP%]{margin-top:10px;margin-right:18px;--background: #292929;--checkmark-color: #fff;--border-radius: 50%}.delete-button[_ngcontent-%COMP%]{font-size:14px;padding:0}.task-separator[_ngcontent-%COMP%]{width:100%;height:1px;background-color:#3a3a3a;margin:10px 0}.task-footer[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-top:10px}"]}),s})();var T=c(680),M=c(8455),R=c(6354);let P=(()=>{var n;class s{constructor(t){this.remoteConfig=t}activateRemoteConfig(){return this.remoteConfig.settings.minimumFetchIntervalMillis=0,(0,M.H)((0,T.LF)(this.remoteConfig))}getBooleanValue$(t){return(0,T.jo)(this.remoteConfig,t).pipe((0,R.T)(o=>"true"===o))}}return(n=s).\u0275fac=function(t){return new(t||n)(e.KVO(T.$T))},n.\u0275prov=e.jDH({token:n,factory:n.\u0275fac,providedIn:"root"}),s})();const S=n=>({"empty-date":n});function D(n,s){if(1&n){const a=e.RV6();e.j41(0,"ion-datetime",7),e.mxI("ngModelChange",function(o){e.eBV(a);const l=e.XpG();return e.DH7(l.newTaskDate,o)||(l.newTaskDate=o),e.Njj(o)}),e.k0s()}if(2&n){const a=e.XpG();e.R50("ngModel",a.newTaskDate)}}function F(n,s){if(1&n){const a=e.RV6();e.j41(0,"ion-button",8),e.bIt("click",function(){e.eBV(a);const o=e.XpG();return e.Njj(o.clearDate())}),e.nrm(1,"ion-icon",9),e.k0s()}}function w(n,s){if(1&n&&(e.j41(0,"span"),e.EFF(1),e.nI1(2,"date"),e.k0s()),2&n){const a=e.XpG();e.R7$(),e.JRh(e.i5U(2,1,a.newTaskDate,"mediumDate"))}}function v(n,s){1&n&&(e.j41(0,"span"),e.EFF(1,"No se ha seleccionado ninguna fecha"),e.k0s())}let j=(()=>{var n;class s{constructor(){this.newTaskTitle="",this.newTaskCategoryId="",this.newTaskDate=null,this.addTask=new e.bkB}onAddTask(){this.newTaskTitle.trim()&&(this.addTask.emit({title:this.newTaskTitle,categoryId:this.newTaskCategoryId||"",date:this.newTaskDate||void 0}),this.resetForm())}resetForm(){this.newTaskTitle="",this.newTaskCategoryId="",this.newTaskDate=null}clearDate(){this.newTaskDate=null}}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.VBU({type:n,selectors:[["app-add-task"]],outputs:{addTask:"addTask"},decls:18,vars:9,consts:[["placeholder","T\xedtulo de la tarea",3,"ngModelChange","ngModel"],["placeholder","ID de la categor\xeda (opcional)",3,"ngModelChange","ngModel"],["datetime","datePicker",3,"ngClass"],[3,"keepContentsMounted"],["fill","clear",3,"click",4,"ngIf"],[4,"ngIf"],["expand","block",3,"click"],["id","datePicker","presentation","date","placeholder","Seleccionar fecha",3,"ngModelChange","ngModel"],["fill","clear",3,"click"],["name","close-circle"]],template:function(t,o){1&t&&(e.j41(0,"ion-item")(1,"ion-input",0),e.mxI("ngModelChange",function(r){return e.DH7(o.newTaskTitle,r)||(o.newTaskTitle=r),r}),e.k0s()(),e.j41(2,"ion-item")(3,"ion-input",1),e.mxI("ngModelChange",function(r){return e.DH7(o.newTaskCategoryId,r)||(o.newTaskCategoryId=r),r}),e.k0s()(),e.j41(4,"ion-item")(5,"ion-label"),e.EFF(6,"Fecha (opcional)"),e.k0s(),e.nrm(7,"ion-datetime-button",2),e.j41(8,"ion-modal",3),e.DNE(9,D,1,1,"ng-template"),e.k0s(),e.DNE(10,F,2,0,"ion-button",4),e.k0s(),e.j41(11,"ion-item")(12,"ion-label"),e.EFF(13,"Fecha seleccionada: "),e.k0s(),e.DNE(14,w,3,4,"span",5)(15,v,2,0,"span",5),e.k0s(),e.j41(16,"ion-button",6),e.bIt("click",function(){return o.onAddTask()}),e.EFF(17,"Agregar Tarea"),e.k0s()),2&t&&(e.R7$(),e.R50("ngModel",o.newTaskTitle),e.R7$(2),e.R50("ngModel",o.newTaskCategoryId),e.R7$(4),e.Y8G("ngClass",e.eq3(7,S,!o.newTaskDate)),e.R7$(),e.Y8G("keepContentsMounted",!0),e.R7$(2),e.Y8G("ngIf",o.newTaskDate),e.R7$(4),e.Y8G("ngIf",o.newTaskDate),e.R7$(),e.Y8G("ngIf",!o.newTaskDate))},dependencies:[d.YU,d.bT,g.BC,g.vS,i.Jm,i.A9,i.K4,i.iq,i.$w,i.uz,i.he,i.Sb,i.Je,i.Gw,d.vh],styles:[".empty-date[_ngcontent-%COMP%]{color:transparent;text-shadow:0 0 5px rgba(0,0,0,.5)}.empty-date[_ngcontent-%COMP%]   slot[_ngcontent-%COMP%]{font-size:0px!important;width:128px;height:32px}ion-datetime.empty-date[_ngcontent-%COMP%]::part(native){color:transparent}button#date-button[_ngcontent-%COMP%]{color:#00f!important}"]}),s})();const x=Object.freeze({TEXTS:{FILTER_INPUT_CATEGORY_PLACEHOLDER:"Nombre de la Categor\xeda",FILTER_CATEGORY_PLACEHOLDER:"Filtrar por Nombre de la Categor\xeda"}});let A=(()=>{var n;class s{constructor(){this.filterCategoryId="",this.config=x,this.filterCategory=new e.bkB}onFilterChange(){this.filterCategory.emit(this.filterCategoryId)}}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275cmp=e.VBU({type:n,selectors:[["app-category-filter"]],outputs:{filterCategory:"filterCategory"},decls:4,vars:3,consts:[[3,"ngModelChange","ionInput","placeholder","ngModel"]],template:function(t,o){1&t&&(e.j41(0,"ion-item")(1,"ion-label"),e.EFF(2),e.k0s(),e.j41(3,"ion-input",0),e.mxI("ngModelChange",function(r){return e.DH7(o.filterCategoryId,r)||(o.filterCategoryId=r),r}),e.bIt("ionInput",function(){return o.onFilterChange()}),e.k0s()()),2&t&&(e.R7$(2),e.JRh(o.config.TEXTS.FILTER_CATEGORY_PLACEHOLDER),e.R7$(),e.FS9("placeholder",o.config.TEXTS.FILTER_INPUT_CATEGORY_PLACEHOLDER),e.R50("ngModel",o.filterCategoryId))},dependencies:[g.BC,g.vS,i.$w,i.uz,i.he,i.Gw]}),s})();function G(n,s){if(1&n){const a=e.RV6();e.j41(0,"ion-button",8),e.bIt("click",function(){e.eBV(a);const o=e.XpG();return e.Njj(o.setOpen(!0))}),e.nrm(1,"ion-icon",9),e.EFF(2),e.k0s()}if(2&n){const a=e.XpG();e.R7$(2),e.SpI(" ",a.config.BUTTONS.ADD_TASK.TEXT," ")}}function N(n,s){if(1&n){const a=e.RV6();e.j41(0,"ion-header")(1,"ion-toolbar")(2,"ion-title"),e.EFF(3),e.k0s(),e.j41(4,"ion-buttons",10)(5,"ion-button",11),e.bIt("click",function(){e.eBV(a);const o=e.XpG();return e.Njj(o.setOpen(!1))}),e.EFF(6,"Cerrar"),e.k0s()()()(),e.j41(7,"ion-content")(8,"app-add-task",12),e.bIt("addTask",function(o){e.eBV(a);const l=e.XpG();return e.Njj(l.addTask(o))}),e.k0s()()}if(2&n){const a=e.XpG();e.R7$(3),e.JRh(a.config.TEXTS.TASK_TITLE_PLACEHOLDER)}}function H(n,s){if(1&n){const a=e.RV6();e.j41(0,"app-category-filter",13),e.bIt("filterCategory",function(o){e.eBV(a);const l=e.XpG();return e.Njj(l.filterCategoryId=o)}),e.k0s()}}const $=[{path:"",component:(()=>{var n;class s{constructor(t,o){this.taskService=t,this.remoteConfigService=o,this.filterCategoryId="",this.isModalOpen=!1,this.config=C,this.currentDate=new Date}ngOnInit(){this.remoteConfigService.activateRemoteConfig().subscribe(()=>{this.allowTaskCompletion$=this.remoteConfigService.getBooleanValue$("allowTaskCompletion"),this.allowTaskDeletion$=this.remoteConfigService.getBooleanValue$("allowTaskDeletion"),this.showAddTaskButton$=this.remoteConfigService.getBooleanValue$("showAddTaskButton"),this.enableCategoryFilter$=this.remoteConfigService.getBooleanValue$("enableCategoryFilter")}),this.loadTasks()}loadTasks(){this.tasksComponent.loadTasks()}addTask(t){this.taskService.addTask(t.title,t.categoryId,void 0,t.date),this.loadTasks(),this.setOpen(!1)}toggleCompletion(t){this.taskService.toggleTaskCompletion(t),this.loadTasks()}deleteTask(t){this.taskService.deleteTask(t),this.loadTasks()}setOpen(t){this.isModalOpen=t}}return(n=s).\u0275fac=function(t){return new(t||n)(e.rXU(u),e.rXU(P))},n.\u0275cmp=e.VBU({type:n,selectors:[["app-home"]],viewQuery:function(t,o){if(1&t&&e.GBs(_,5),2&t){let l;e.mGM(l=e.lsd())&&(o.tasksComponent=l.first)}},decls:18,vars:16,consts:[[1,"header-content"],["size","12","size-md","6",1,"app-title"],[1,"current-date"],["size","12","size-md","6",1,"button-container"],["fill","outline","class","new-task-button",3,"click",4,"ngIf"],[3,"ionModalDidDismiss","isOpen"],[3,"filterCategory",4,"ngIf"],[3,"filterCategoryId","allowTaskDeletion"],["fill","outline",1,"new-task-button",3,"click"],["slot","start","name","add-circle-outline"],["slot","end"],[3,"click"],[3,"addTask"],[3,"filterCategory"]],template:function(t,o){1&t&&(e.j41(0,"ion-grid")(1,"ion-row",0)(2,"ion-col",1)(3,"h1"),e.EFF(4),e.k0s(),e.j41(5,"p",2),e.EFF(6),e.nI1(7,"date"),e.k0s()(),e.j41(8,"ion-col",3),e.DNE(9,G,3,1,"ion-button",4),e.nI1(10,"async"),e.k0s()()(),e.j41(11,"ion-content")(12,"ion-modal",5),e.bIt("ionModalDidDismiss",function(){return o.setOpen(!1)}),e.DNE(13,N,9,1,"ng-template"),e.k0s(),e.DNE(14,H,1,0,"app-category-filter",6),e.nI1(15,"async"),e.nrm(16,"app-tasks",7),e.nI1(17,"async"),e.k0s()),2&t&&(e.R7$(4),e.JRh(o.config.TEXTS.WELCOME),e.R7$(2),e.JRh(e.i5U(7,7,o.currentDate,"fullDate")),e.R7$(3),e.Y8G("ngIf",e.bMT(10,10,o.showAddTaskButton$)),e.R7$(3),e.Y8G("isOpen",o.isModalOpen),e.R7$(2),e.Y8G("ngIf",e.bMT(15,12,o.enableCategoryFilter$)),e.R7$(2),e.Y8G("filterCategoryId",o.filterCategoryId)("allowTaskDeletion",e.bMT(17,14,o.allowTaskDeletion$)))},dependencies:[d.bT,i.Jm,i.QW,i.hU,i.W9,i.lO,i.eU,i.iq,i.ln,i.BC,i.ai,i.Sb,_,j,A,d.Jj,d.vh],styles:[".toolbar[_ngcontent-%COMP%]{padding:10px}.header-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;width:100%;padding:24px 24px 20px}.app-title[_ngcontent-%COMP%]{display:flex;flex-direction:column}.header-content[_ngcontent-%COMP%]{align-items:center;padding:24px}.app-title[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center}.app-title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.8rem;margin:0}.current-date[_ngcontent-%COMP%]{font-size:1rem}.button-container[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;align-items:center}.new-task-button[_ngcontent-%COMP%]{margin-left:auto}@media (max-width: 768px){.header-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.button-container[_ngcontent-%COMP%]{justify-content:center;margin-top:10px}.new-task-button[_ngcontent-%COMP%]{margin-left:0}}"]}),s})()}];let L=(()=>{var n;class s{}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[f.iI.forChild($),f.iI]}),s})(),B=(()=>{var n;class s{}return(n=s).\u0275fac=function(t){return new(t||n)},n.\u0275mod=e.$C({type:n}),n.\u0275inj=e.G2t({imports:[d.MD,g.YN,i.bv,L]}),s})()}}]);